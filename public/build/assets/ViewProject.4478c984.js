import{B as N}from"./Authenticated.70716a03.js";import{u as y,r as f,o as i,b as c,a as e,n as h,d as p,w as d,t as b,g as u,E as k,R as j,K as B,F as P,h as x,L as H,c as C}from"./app.3ce61da7.js";import{_ as w}from"./_plugin-vue_export-helper.cdc0426e.js";import{M as I}from"./ModalWindow.87743d12.js";import{H as T}from"./Heading_H1.f54b24c1.js";const U={props:{project:Object},name:"NotInProject"};function V(a,t,o,v,s,r){return null}const M=w(U,[["render",V]]),A={components:{ModalWindow:I},props:{project:Object,user_data:Object,coordinator:Boolean,notify_catches:{type:Boolean,default:!1},notify_inspections:{type:Boolean,default:!1},notify_problems:{type:Boolean,default:!1}},name:"InProject",data(){return{show:!1,visible:!1,visible_sync:!1,visible_sync_done:!1,msg:null,form:y({projectId:null}),updateUserSettings:y({projectId:null,value:null,key:null})}},mounted(){this.$page.props.auth.user!==null&&Echo.private("App.Models.User."+this.$page.props.auth.user.id).notification(a=>{this.msg=a.message,this.visible_sync=!1,this.visible_sync_done=!1,this.visible_sync_done=!0})},methods:{enter(){this.form.projectId=this.project.id,this.form.post(route("user.projects.enter"))},leave(){this.form.projectId=this.project.id,this.form.post(route("user.projects.leave"))},syncPr(){this.visible_sync=!0,this.form.projectId=this.project.id,this.form.post(route("user.projects.sync"))},update(a,t){this.updateUserSettings.projectId=this.project.id,this.updateUserSettings.value=t,this.updateUserSettings.key=a,this.updateUserSettings.put(route("user.projects.update_user"),{preserveScroll:!0,preserveState:!0})}}},F={class:"flex flex-wrap mt-5 px-4"},O=e("h6",{class:"font-bold montserrat text-xl text-dark dark:text-white"}," Trap.NZ synchronisation ",-1),z={class:"w-full px-8 mt-5"},E=["disabled"],Z=e("span",{class:"uppercase"},"sync trap.nz traps",-1),D=[Z],R=e("h1",{class:"mb-3 text-xl montserrat text-gray-800 font-bold"},"Synchronising ......",-1),Y={class:"flex w-full mx-auto"},J=e("span",{class:"mr-2 uppercase"},"Close",-1),K=[J],Q=e("h1",{class:"mb-3 text-xl montserrat text-green-500 font-bold"},"Synchronisation complate",-1),W={class:"flex w-full mx-auto"},q=e("span",{class:"mr-2 uppercase"},"Finish",-1),G=[q],X={class:"flex flex-wrap w-full mt-3 px-4 py-3"},$=e("div",{class:"font-fira font-medium text-t_purple-200 text-[18px]"}," How this button works ",-1),ee=e("path",{d:"M15 1.00008L8.01043 9.10718L1 1.00008",stroke:"#222E7D","stroke-width":"2","stroke-linecap":"round"},null,-1),te=[ee],se={key:0,class:"w-full w-full px-4 py-3"},oe=e("p",null,[x(" If new traps are added to the above Trap.NZ project, pressing this will import them into TrapScan so that QR cards can be mapped to them. This button will also update any traps that have changed in Trap.NZ such as name and location changes. "),e("img",{class:"emoji flex inline-flex",alt:"warning",height:"20",width:"20",src:"https://github.githubassets.com/images/icons/emoji/unicode/26a0.png"}),x(" This can only be used once per hour ")],-1),ne=[oe],re=e("h6",{class:"font-bold montserrat text-xl text-dark dark:text-white mt-10 px-4 border-b-2 border-gray-400"}," Notifications ",-1),ie={class:"flex flex-wrap w-full px-4 py-3"},le={class:"flex justify-between items-center border-b-2 border-gray-400 py-3 w-full"},ae=e("div",{class:"montserrat font-bold text-md text-gray-900 dark:text-white"},"Catches",-1),ce={for:"checked-toggle1",class:"inline-flex relative items-center cursor-pointer"},de=e("div",{class:"w-11 h-6 bg-gray-300 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),fe={class:"flex justify-between items-center py-3 w-full mt-2"},ue=e("div",{class:"montserrat font-bold text-md text-gray-900 dark:text-white"},"Trap Issues",-1),pe={for:"checked-toggle3",class:"inline-flex relative items-center cursor-pointer"},_e=e("div",{class:"w-11 h-6 bg-gray-300 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),me=e("h6",{class:"w-full font-bold montserrat text-xl text-dark dark:text-white px-4 border-t-2 border-gray-400"},null,-1),he={class:"w-full px-8 mt-5 flex flex-wrap justify-center"},be=e("span",{class:"uppercase underline"},"leave project",-1),ye=[be],xe={class:"mb-3 text-xl montserrat text-bay-of-many-500 font-bold"},we={class:"flex flex-wrap"},ve={class:"flex w-full mx-auto"},ge=["disabled"],ke=e("span",{class:"mr-2 uppercase"},"yes, leave",-1),je=[ke],Ce={class:"flex w-full mx-auto"},Be=e("span",{class:"mr-2 uppercase"},"No, stay",-1),Ie=[Be];function Se(a,t,o,v,s,r){const _=f("modal-window");return i(),c(P,null,[e("div",F,[O,e("div",z,[e("button",{onClick:t[0]||(t[0]=(...n)=>r.syncPr&&r.syncPr(...n)),class:h([{"opacity-25":s.form.processing},"flex montserrat items-center font-bold justify-center focus:outline-none text-white text-md sm:text-base bg-bay-of-many-500 hover:bg-bay-of-many-600 rounded-full py-3 w-full transition duration-150 ease-in"]),disabled:s.form.processing,type:"button"},D,10,E)]),p(_,{showing:s.visible_sync},{default:d(()=>[R,e("div",Y,[e("button",{onClick:t[1]||(t[1]=n=>s.visible_sync=!1),class:"flex mt-2 items-center justify-center focus:outline-none text-bay-of-many-500 dark:text-mystic-100 dark:border-mystic-100 font-bold text-sm sm:text-base border-2 border-bay-of-many-500 hover:bg-bay-of-many-500 hover:text-white rounded-full py-2 w-full transition duration-150 ease-in"},K)])]),_:1},8,["showing"]),p(_,{showing:s.visible_sync_done},{default:d(()=>[Q,e("p",null,b(s.msg),1),e("div",W,[e("button",{onClick:t[2]||(t[2]=n=>s.visible_sync_done=!1),class:"flex mt-2 items-center justify-center focus:outline-none text-bay-of-many-500 dark:text-mystic-100 dark:border-mystic-100 font-bold text-sm sm:text-base border-2 border-bay-of-many-500 hover:bg-bay-of-many-500 hover:text-white rounded-full py-2 w-full transition duration-150 ease-in"},G)])]),_:1},8,["showing"]),e("div",X,[e("div",{onClick:t[3]||(t[3]=n=>s.show=!s.show),class:"flex justify-between items-center w-full"},[$,e("div",null,[(i(),c("svg",{class:h({"rotate-180":s.show}),width:"16",height:"11",viewBox:"0 0 16 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},te,2))])])]),s.show?(i(),c("div",se,ne)):u("",!0)]),re,e("div",ie,[e("div",le,[ae,e("div",null,[e("label",ce,[k(e("input",{type:"checkbox",onChange:t[4]||(t[4]=n=>r.update("notify_catches",o.notify_catches)),"onUpdate:modelValue":t[5]||(t[5]=n=>o.notify_catches=n),id:"checked-toggle1",class:"sr-only peer"},null,544),[[j,o.notify_catches]]),de])])]),e("div",fe,[ue,e("div",null,[e("label",pe,[k(e("input",{type:"checkbox",onChange:t[6]||(t[6]=n=>r.update("notify_problems",o.notify_problems)),"onUpdate:modelValue":t[7]||(t[7]=n=>o.notify_problems=n),id:"checked-toggle3",class:"sr-only peer"},null,544),[[j,o.notify_problems]]),_e])])])]),me,e("div",he,[e("a",{onClick:t[8]||(t[8]=n=>s.visible=!s.visible),type:"button",class:"font-fira font-bold text-t_purple-200 text-md"},ye)]),p(_,{showing:s.visible},{default:d(()=>{var n;return[e("h1",xe,"Are you sure you want to leave "+b((n=o.project.name)!=null?n:"")+"?",1),e("form",{onSubmit:t[10]||(t[10]=B((...m)=>r.leave&&r.leave(...m),["prevent"]))},[e("div",we,[e("div",ve,[e("button",{class:h([{"opacity-25":s.form.processing},"flex mt-2 items-center font-bold justify-center focus:outline-none text-white text-sm sm:text-base bg-valencia-500 hover:bg-valencia-600 rounded-full py-2 w-full transition duration-150 ease-in"]),disabled:s.form.processing,type:"submit"},je,10,ge)]),e("div",Ce,[e("button",{onClick:t[9]||(t[9]=m=>s.visible=!1),class:"flex mt-2 items-center justify-center focus:outline-none text-bay-of-many-500 dark:text-mystic-100 dark:border-mystic-100 font-bold text-sm sm:text-base border-2 border-bay-of-many-500 hover:bg-bay-of-many-500 hover:text-white rounded-full py-2 w-full transition duration-150 ease-in"},Ie)])])],32)]}),_:1},8,["showing"])],64)}const Le=w(A,[["render",Se]]),Ne={components:{InProject:Le,NotInProject:M,Link:H,ModalWindow:I,BreezeAuthenticatedLayout:N,Heading_H1:T},name:"ViewProject",props:{project:Object,back:String,user_in_pr_data:Object,user_in_pr:Boolean,coordinator:Boolean},data(){return{form:y({projectId:null}),visible:!1}},mounted(){},methods:{enter(){this.form.projectId=this.project.id,this.form.post(route("user.projects.enter"))},leave(){this.form.projectId=this.project.id,this.form.post(route("user.projects.leave"))}}},Pe={class:"pb-24"},He=e("svg",{width:"41",height:"41",viewBox:"0 0 41 41",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{"clip-path":"url(#clip0_2440_1962)"},[e("rect",{class:"fill-[#232F80] dark:fill-[#2F45C5]",x:"40.1875",y:"40.6123",width:"40",height:"40",rx:"20",transform:"rotate(180 40.1875 40.6123)"}),e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M23.0362 26.2608C23.5049 25.7922 23.5049 25.0324 23.0362 24.5638L19.0848 20.6123L23.0362 16.6608C23.5049 16.1922 23.5049 15.4324 23.0362 14.9638C22.5676 14.4951 21.8078 14.4951 21.3392 14.9638L16.5392 19.7638C16.0705 20.2324 16.0705 20.9922 16.5392 21.4608L21.3392 26.2608C21.8078 26.7295 22.5676 26.7295 23.0362 26.2608Z",fill:"white"})]),e("defs",null,[e("clipPath",{id:"clip0_2440_1962"},[e("rect",{width:"40",height:"40",fill:"white",transform:"translate(0.1875 0.612305)"})])])],-1),Te=e("span",{class:"font-bold montserrat ml-3 uppercase text-t_purple-700 text-[13px] dark:text-white"},"Back - ",-1),Ue=e("span",{class:"montserrat ml-3 uppercase text-t_purple-700 text-[13px] dark:text-white"}," projects ",-1),Ve={class:"flex flex-wrap mt-12 ml-2"},Me=e("div",{class:"w-full text-t_warms-400 uppercase montserrat font-bold text-[12px] ml-4 mb-3"}," project ",-1),Ae={key:0,class:"w-full px-8 mt-5"},Fe=e("span",{class:"uppercase"},"JOIN project",-1),Oe=[Fe],ze={key:1,class:"w-full mt-3 text-[18px] font-fira text-t_black-800 ml-4"},Ee={key:2,class:"w-full mt-3 text-[18px] font-fira text-t_black-800 ml-4"},Ze={key:3,class:"w-full ml-4 mt-10 flex flex-wrap"},De=e("span",{class:"uppercase underline"},"leave project",-1),Re=[De],Ye={class:"mb-3 text-xl montserrat text-bay-of-many-500 font-bold"},Je={class:"flex flex-wrap"},Ke={class:"flex w-full mx-auto"},Qe=["disabled"],We=e("span",{class:"mr-2 uppercase"},"yes, leave",-1),qe=[We],Ge={class:"flex w-full mx-auto"},Xe=e("span",{class:"mr-2 uppercase"},"No, stay",-1),$e=[Xe];function et(a,t,o,v,s,r){const _=f("Link"),n=f("Heading_H1"),m=f("in-project"),S=f("modal-window"),L=f("BreezeAuthenticatedLayout");return i(),C(L,null,{default:d(()=>[e("div",Pe,[p(_,{href:a.route("user.projects"),class:"w-full flex flex-wrap justify-start items-center mt-4 ml-6"},{default:d(()=>[He,Te,Ue]),_:1},8,["href"]),e("div",Ve,[Me,p(n,{type:!0},{default:d(()=>{var l;return[x(b((l=o.project.name)!=null?l:""),1)]}),_:1}),o.user_in_pr?u("",!0):(i(),c("div",Ae,[e("button",{onClick:t[0]||(t[0]=(...l)=>r.enter&&r.enter(...l)),type:"button",class:"flex montserrat items-center font-bold justify-center focus:outline-none text-white text-md sm:text-base bg-bay-of-many-500 hover:bg-bay-of-many-600 rounded-full py-3 w-full transition duration-150 ease-in"},Oe)])),o.user_in_pr&&!o.coordinator?(i(),c("div",ze," You are a member ")):u("",!0),o.coordinator?(i(),c("div",Ee," You are an admin ")):u("",!0),o.user_in_pr&&!o.coordinator?(i(),c("div",Ze,[e("a",{onClick:t[1]||(t[1]=l=>s.visible=!s.visible),type:"button",class:"font-fira font-bold text-t_purple-200 text-md"},Re)])):u("",!0)]),o.coordinator?(i(),C(m,{key:0,project:o.project,user_data:o.user_in_pr,notify_catches:o.user_in_pr_data.pivot.notify_catches,notify_inspections:o.user_in_pr_data.pivot.notify_inspections,notify_problems:o.user_in_pr_data.pivot.notify_problems},null,8,["project","user_data","notify_catches","notify_inspections","notify_problems"])):u("",!0)]),p(S,{showing:s.visible},{default:d(()=>{var l;return[e("h1",Ye,"Are you sure you want to leave "+b((l=o.project.name)!=null?l:"")+"?",1),e("form",{onSubmit:t[3]||(t[3]=B((...g)=>r.leave&&r.leave(...g),["prevent"]))},[e("div",Je,[e("div",Ke,[e("button",{class:h([{"opacity-25":s.form.processing},"flex mt-2 items-center font-bold justify-center focus:outline-none text-white text-sm sm:text-base bg-valencia-500 hover:bg-valencia-600 rounded-full py-2 w-full transition duration-150 ease-in"]),disabled:s.form.processing,type:"submit"},qe,10,Qe)]),e("div",Ge,[e("button",{onClick:t[2]||(t[2]=g=>s.visible=!1),class:"flex mt-2 items-center justify-center focus:outline-none text-bay-of-many-500 dark:text-mystic-100 dark:border-mystic-100 font-bold text-sm sm:text-base border-2 border-bay-of-many-500 hover:bg-bay-of-many-500 hover:text-white rounded-full py-2 w-full transition duration-150 ease-in"},$e)])])],32)]}),_:1},8,["showing"])]),_:1})}const it=w(Ne,[["render",et]]);export{it as default};
//# sourceMappingURL=ViewProject.4478c984.js.map
